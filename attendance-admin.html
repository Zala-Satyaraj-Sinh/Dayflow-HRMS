<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Attendance Management - Dayflow HRMS</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="sidebar">
  <h2>Admin Panel</h2>
  <a href="admin.html">Dashboard</a>
  <a href="employee-list.html">Employees</a>
  <a href="attendance-admin.html" class="active">Attendance</a>
  <a href="leave-approval.html">Leave Approval</a>
  <a href="payroll.html">Payroll</a>
  <a href="reports.html">Reports</a>
  <a href="settings.html">Settings</a>
  <a href="login.html" style="margin-top: 2rem; color: rgba(255,255,255,0.5);">Logout</a>
</div>

<div class="main">
  <div class="flex-between mb-3">
    <h1>Attendance Management</h1>
    <div class="flex gap-2">
      <input type="date" id="attendanceDate" style="width: auto; margin: 0;" onchange="filterByDate()">
      <button id="themeToggle" class="theme-btn" aria-label="Toggle theme">ðŸŒ™</button>
    </div>
  </div>

  <div class="card-grid mb-3">
    <div class="card">
      <h3>Today's Attendance</h3>
      <p class="text-muted">Present employees</p>
      <p style="font-size: 2rem; font-weight: 700; color: var(--success); margin-top: 1rem;">142/156</p>
      <p class="text-muted" style="font-size: 0.875rem;">91% present</p>
    </div>
    <div class="card">
      <h3>On Leave</h3>
      <p class="text-muted">Today</p>
      <p style="font-size: 2rem; font-weight: 700; color: var(--warning); margin-top: 1rem;">8</p>
      <p class="text-muted" style="font-size: 0.875rem;">Employees</p>
    </div>
    <div class="card">
      <h3>Absent</h3>
      <p class="text-muted">Today</p>
      <p style="font-size: 2rem; font-weight: 700; color: var(--error); margin-top: 1rem;">6</p>
      <p class="text-muted" style="font-size: 0.875rem;">Employees</p>
    </div>
  </div>

  <div class="card">
    <div class="flex-between mb-2">
      <h3>Employee Attendance</h3>
      <input type="text" id="searchAttendance" placeholder="Search employee..." style="width: 300px; margin: 0;" onkeyup="searchAttendance()">
    </div>
    <table id="attendanceTable">
      <thead>
        <tr>
          <th>Employee ID</th>
          <th>Name</th>
          <th>Department</th>
          <th>Check In</th>
          <th>Check Out</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>EMP001</td>
          <td>John Doe</td>
          <td>Engineering</td>
          <td>09:15 AM</td>
          <td>06:30 PM</td>
          <td><span class="status-badge success">Present</span></td>
          <td><button class="btn" style="padding: 0.5rem 1rem; font-size: 0.875rem;">View</button></td>
        </tr>
        <tr>
          <td>EMP002</td>
          <td>Jane Smith</td>
          <td>Marketing</td>
          <td>09:00 AM</td>
          <td>06:00 PM</td>
          <td><span class="status-badge success">Present</span></td>
          <td><button class="btn" style="padding: 0.5rem 1rem; font-size: 0.875rem;">View</button></td>
        </tr>
        <tr>
          <td>EMP003</td>
          <td>Mike Johnson</td>
          <td>Sales</td>
          <td>-</td>
          <td>-</td>
          <td><span class="status-badge warning">On Leave</span></td>
          <td><button class="btn" style="padding: 0.5rem 1rem; font-size: 0.875rem;">View</button></td>
        </tr>
        <tr>
          <td>EMP004</td>
          <td>Sarah Williams</td>
          <td>HR</td>
          <td>-</td>
          <td>-</td>
          <td><span class="status-badge error">Absent</span></td>
          <td><button class="btn" style="padding: 0.5rem 1rem; font-size: 0.875rem;">View</button></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div id="toastContainer"></div>
<script src="js/app.js"></script>
<script>
function filterByDate() {
  const date = document.getElementById("attendanceDate").value;
  showToast(`Filtering attendance for ${date}`, "info");
}

function searchAttendance() {
  const search = document.getElementById("searchAttendance").value.toLowerCase();
  const rows = document.querySelectorAll("#attendanceTable tbody tr");
  
  rows.forEach(row => {
    const text = row.textContent.toLowerCase();
    row.style.display = text.includes(search) ? "" : "none";
  });
}
</script>
</body>
</html>
