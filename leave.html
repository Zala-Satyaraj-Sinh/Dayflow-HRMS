<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Leave Management - Dayflow HRMS</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="sidebar">
  <h2>Dayflow</h2>
  <a href="dashboard.html">Dashboard</a>
  <a href="attendance.html">Attendance</a>
  <a href="leave.html" class="active">Leave</a>
  <a href="payroll.html">Payroll</a>
  <a href="profile.html">Profile</a>
  <a href="login.html" style="margin-top: 2rem; color: rgba(255,255,255,0.5);">Logout</a>
</div>

<div class="main">
  <div class="flex-between mb-3">
    <h1>Leave Management</h1>
    <button id="themeToggle" class="theme-btn" aria-label="Toggle theme">ðŸŒ™</button>
  </div>

  <div class="card-grid">
    <div class="card">
      <h3>Leave Balance</h3>
      <p class="text-muted">Available leaves</p>
      <p style="font-size: 2rem; font-weight: 700; color: var(--primary); margin-top: 1rem;">12</p>
      <p class="text-muted" style="font-size: 0.875rem;">Days remaining</p>
    </div>
    <div class="card">
      <h3>Pending Requests</h3>
      <p class="text-muted">Awaiting approval</p>
      <p style="font-size: 2rem; font-weight: 700; color: var(--warning); margin-top: 1rem;">2</p>
      <p class="text-muted" style="font-size: 0.875rem;">Requests</p>
    </div>
  </div>

  <div class="card mt-3">
    <h3 style="margin-bottom: 1.5rem;">Apply for Leave</h3>
    <form onsubmit="handleLeaveRequest(event)">
      <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-primary);">Leave Type</label>
      <select id="leaveType" required>
        <option value="">Select leave type</option>
        <option value="paid">Paid Leave</option>
        <option value="sick">Sick Leave</option>
        <option value="casual">Casual Leave</option>
        <option value="emergency">Emergency Leave</option>
      </select>
      
      <label style="display: block; margin-bottom: 0.5rem; margin-top: 1rem; font-weight: 600; color: var(--text-primary);">Start Date</label>
      <input type="date" id="startDate" required>
      
      <label style="display: block; margin-bottom: 0.5rem; margin-top: 1rem; font-weight: 600; color: var(--text-primary);">End Date</label>
      <input type="date" id="endDate" required>
      
      <label style="display: block; margin-bottom: 0.5rem; margin-top: 1rem; font-weight: 600; color: var(--text-primary);">Reason</label>
      <textarea id="leaveReason" rows="4" placeholder="Enter reason for leave" required></textarea>
      
      <button type="submit" class="btn" style="width: 100%; margin-top: 1rem;">Submit Leave Request</button>
    </form>
  </div>

  <div class="card mt-3">
    <h3 style="margin-bottom: 1rem;">Leave History</h3>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th>Days</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Paid Leave</td>
          <td>Jan 10, 2026</td>
          <td>Jan 12, 2026</td>
          <td>3</td>
          <td><span style="color: var(--success); font-weight: 600;">Approved</span></td>
        </tr>
        <tr>
          <td>Sick Leave</td>
          <td>Jan 5, 2026</td>
          <td>Jan 5, 2026</td>
          <td>1</td>
          <td><span style="color: var(--warning); font-weight: 600;">Pending</span></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div id="toastContainer"></div>
<script src="js/app.js"></script>
<script>
function handleLeaveRequest(event) {
  event.preventDefault();
  const form = event.target;
  const submitBtn = form.querySelector("button[type='submit']");
  
  submitBtn.innerHTML = "Submitting...";
  submitBtn.disabled = true;
  
  setTimeout(() => {
    showToast("Leave request submitted successfully!", "success");
    form.reset();
    submitBtn.innerHTML = "Submit Leave Request";
    submitBtn.disabled = false;
  }, 1500);
}
</script>
</body>
</html>
