<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Leave Approval - Dayflow HRMS</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="sidebar">
  <h2>Admin Panel</h2>
  <a href="admin.html">Dashboard</a>
  <a href="employee-list.html">Employees</a>
  <a href="attendance-admin.html">Attendance</a>
  <a href="leave-approval.html" class="active">Leave Approval</a>
  <a href="payroll.html">Payroll</a>
  <a href="reports.html">Reports</a>
  <a href="settings.html">Settings</a>
  <a href="login.html" style="margin-top: 2rem; color: rgba(255,255,255,0.5);">Logout</a>
</div>

<div class="main">
  <div class="flex-between mb-3">
    <h1>Leave Approval</h1>
    <button id="themeToggle" class="theme-btn" aria-label="Toggle theme">ðŸŒ™</button>
  </div>

  <div class="card-grid mb-3">
    <div class="card">
      <h3>Pending Requests</h3>
      <p style="font-size: 2rem; font-weight: 700; color: var(--warning); margin-top: 1rem;">8</p>
      <p class="text-muted" style="font-size: 0.875rem;">Awaiting approval</p>
    </div>
    <div class="card">
      <h3>Approved This Month</h3>
      <p style="font-size: 2rem; font-weight: 700; color: var(--success); margin-top: 1rem;">42</p>
      <p class="text-muted" style="font-size: 0.875rem;">Requests</p>
    </div>
    <div class="card">
      <h3>Rejected This Month</h3>
      <p style="font-size: 2rem; font-weight: 700; color: var(--error); margin-top: 1rem;">3</p>
      <p class="text-muted" style="font-size: 0.875rem;">Requests</p>
    </div>
  </div>

  <div class="card">
    <div class="flex-between mb-2">
      <h3>Pending Leave Requests</h3>
      <select id="filterStatus" style="width: auto; margin: 0;" onchange="filterLeaves()">
        <option value="all">All Requests</option>
        <option value="pending">Pending</option>
        <option value="approved">Approved</option>
        <option value="rejected">Rejected</option>
      </select>
    </div>
    <table id="leaveTable">
      <thead>
        <tr>
          <th>Employee</th>
          <th>Employee ID</th>
          <th>Leave Type</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th>Days</th>
          <th>Reason</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr data-status="pending">
          <td>John Doe</td>
          <td>EMP001</td>
          <td>Sick Leave</td>
          <td>Jan 20, 2026</td>
          <td>Jan 22, 2026</td>
          <td>3</td>
          <td>Medical appointment</td>
          <td><span class="status-badge warning">Pending</span></td>
          <td>
            <button class="btn success approve" style="padding: 0.5rem 1rem; font-size: 0.875rem; margin-right: 0.5rem;">Approve</button>
            <button class="btn error reject" style="padding: 0.5rem 1rem; font-size: 0.875rem;">Reject</button>
          </td>
        </tr>
        <tr data-status="pending">
          <td>Jane Smith</td>
          <td>EMP002</td>
          <td>Paid Leave</td>
          <td>Jan 25, 2026</td>
          <td>Jan 27, 2026</td>
          <td>3</td>
          <td>Family vacation</td>
          <td><span class="status-badge warning">Pending</span></td>
          <td>
            <button class="btn success approve" style="padding: 0.5rem 1rem; font-size: 0.875rem; margin-right: 0.5rem;">Approve</button>
            <button class="btn error reject" style="padding: 0.5rem 1rem; font-size: 0.875rem;">Reject</button>
          </td>
        </tr>
        <tr data-status="approved">
          <td>Mike Johnson</td>
          <td>EMP003</td>
          <td>Casual Leave</td>
          <td>Jan 15, 2026</td>
          <td>Jan 15, 2026</td>
          <td>1</td>
          <td>Personal work</td>
          <td><span class="status-badge success">Approved</span></td>
          <td>
            <button class="btn secondary" style="padding: 0.5rem 1rem; font-size: 0.875rem;">View</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div id="toastContainer"></div>
<script src="js/app.js"></script>
<script>
function filterLeaves() {
  const filter = document.getElementById("filterStatus").value;
  const rows = document.querySelectorAll("#leaveTable tbody tr");
  
  rows.forEach(row => {
    if (filter === "all") {
      row.style.display = "";
    } else {
      const status = row.getAttribute("data-status");
      row.style.display = status === filter ? "" : "none";
    }
  });
}
</script>
</body>
</html>
